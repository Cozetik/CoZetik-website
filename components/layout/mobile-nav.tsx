'use client'

import Link from 'next/link'
import { usePathname } from 'next/navigation'
import {
  Sheet,
  SheetContent,
  SheetHeader,
  SheetTitle,
} from '@/components/ui/sheet'
import { cn } from '@/lib/utils'

interface NavItem {
  href: string
  label: string
}

interface MobileNavProps {
  open: boolean
  onOpenChange: (open: boolean) => void
  items: NavItem[]
}

export function MobileNav({ open, onOpenChange, items }: MobileNavProps) {
  const pathname = usePathname()

  return (
    <Sheet open={open} onOpenChange={onOpenChange}>
      <SheetContent side="left" className="w-[300px] sm:w-[400px]">
        <SheetHeader>
          <SheetTitle>
            <svg width="261" height="187" viewBox="0 0 261 187" fill="none" xmlns="http://www.w3.org/2000/svg" className="h-8 w-auto">
              <g clipPath="url(#clip0_397_3428_mobile)">
                <mask id="mask0_397_3428_mobile" style={{maskType:'luminance'}} maskUnits="userSpaceOnUse" x="0" y="0" width="261" height="187">
                  <path d="M260.072 0.000488281H0V186.291H260.072V0.000488281Z" fill="white"/>
                </mask>
                <g mask="url(#mask0_397_3428_mobile)">
                  <path d="M53.5848 106.468C53.5848 112.547 48.6567 117.471 42.5814 117.471C36.5062 117.471 31.5781 112.543 31.5781 106.468C31.5781 100.392 36.5062 95.4644 42.5814 95.4644C48.6567 95.4644 53.5848 100.392 53.5848 106.468Z" fill="#ADA6DB"/>
                  <path d="M15.1792 177.623L26.59 179.355C28.6239 179.789 32.4577 168.412 34.2614 161.978C40.1291 141.783 37.4273 137.858 55.8945 133.919C69.4826 131.021 74.0786 131.995 78.8558 130.896C80.2633 130.572 80.9689 129.063 80.5199 127.689L78.0143 119.999C77.5426 118.546 75.988 117.822 74.5579 118.361C72.3164 119.203 68.5317 120.384 58.8944 122.335C47.2571 124.685 35.3142 123.655 24.5863 115.625C17.813 110.554 11.602 97.9997 8.48512 103.954L5.40223 110.128C5.27016 110.388 5.17583 110.667 5.16073 110.961C5.03998 113.486 7.28895 115.905 20.4507 128.629C26.3599 134.983 26.024 139.998 22.9751 150.141C21.0846 156.435 16.6282 166.608 13.0397 172.751C11.9529 174.612 13.0434 177.306 15.1754 177.63L15.1792 177.623Z" fill="#ADA6DB"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M49.986 135.406C41.7976 137.904 39.8581 141.112 37.8242 148.504C38.2091 142.998 40.4996 137.697 45.9824 133.539C47.5597 132.342 49.6879 133.501 49.986 135.406ZM50.3218 139.576C51.2689 148.949 54.2198 163.266 62.8194 172.654C64.0571 174.005 63.8458 176.178 62.0685 176.631C57.4272 177.808 51.7934 176.918 48.6502 176.174C48.0842 176.039 47.5861 175.718 47.2352 175.254C44.4956 171.646 41.092 165.843 39.2015 159.443C39.7675 157.338 40.2505 155.428 40.6769 153.726C40.9562 152.613 41.2165 151.591 41.458 150.666C42.3184 147.395 42.9938 145.391 43.8579 143.931C44.8541 142.248 46.3069 140.908 50.318 139.576H50.3218Z" fill="#ADA6DB"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M207.605 96.5851C208.624 95.8493 209.363 94.8455 209.801 93.8154C210.552 92.057 210.62 89.8004 209.469 87.8307C209.05 87.1138 208.616 86.3289 208.175 85.495C208.884 81.4197 210.258 78.0689 212.295 75.4463C215.499 71.4239 220.114 69.4541 226.144 69.5258C231.653 69.6013 235.936 71.6842 238.988 75.7784C242.117 79.8726 243.679 85.1969 243.679 91.7513C243.679 96.7398 242.822 102.211 241.109 108.17C239.471 114.128 237.2 119.935 234.298 125.591C235.34 125.444 236.419 125.369 237.539 125.369C242.377 125.369 246.252 126.822 249.154 129.723C252.056 132.629 253.509 136.463 253.509 141.229C253.509 145.1 252.131 148.526 249.377 151.504C246.698 154.409 243.086 156.605 238.543 158.092C240.332 159.209 241.894 160.548 243.237 162.114L246.588 166.024C248.377 168.182 250.014 169.748 251.501 170.714C252.992 171.608 254.965 172.314 257.422 172.835C257.942 174.25 258.018 175.812 257.644 177.525C257.274 179.163 256.603 180.393 255.633 181.212C253.177 181.212 250.867 180.653 248.709 179.536C246.622 178.344 244.317 176.484 241.785 173.952L236.981 169.039C234.894 166.88 233.072 165.28 231.51 164.235C230.019 163.118 228.268 162.375 226.261 162.001C224.325 161.628 221.57 161.443 217.997 161.443C217.921 162.635 217.884 163.824 217.884 165.016V179.646C217.14 179.868 216.321 180.057 215.427 180.204C214.533 180.351 213.676 180.427 212.857 180.427C211.144 180.427 209.393 180.167 207.609 179.646V170.488C204.556 174.435 201.428 177.227 198.228 178.865C196.583 179.687 194.802 180.295 192.885 180.683C192.33 181.034 191.628 181.208 190.775 181.208C190.24 181.208 189.715 181.189 189.202 181.155C188.609 181.189 188.006 181.208 187.391 181.208C186.726 181.208 186.149 180.997 185.659 180.574C180.768 179.242 177.448 175.804 175.697 170.261C174.655 171.974 173.538 173.427 172.346 174.616C170.335 176.627 167.991 178.227 165.308 179.419C164.414 179.827 163.497 180.167 162.55 180.434C161.931 180.948 161.143 181.208 160.18 181.208C159.595 181.208 159.022 181.189 158.46 181.148C157.92 181.189 157.369 181.208 156.814 181.208C156.211 181.208 155.698 181.034 155.267 180.687C152.245 180.004 149.603 178.653 147.332 176.631C143.906 173.503 141.449 169.186 139.959 163.677C136.461 169.186 131.88 173.506 126.22 176.631C121.82 179.035 116.914 180.491 111.499 181.004C111.081 181.14 110.613 181.212 110.092 181.212C109.628 181.212 109.167 181.2 108.711 181.182C108.149 181.2 107.579 181.212 107.005 181.212C106.5 181.212 106.039 181.106 105.624 180.899C103.405 180.578 101.285 180.012 99.2584 179.201C95.983 177.785 93.3378 175.85 91.3304 173.393C88.5758 174.808 85.6363 176.186 82.5081 177.525C79.7384 178.672 77.3347 179.578 75.3009 180.234C74.9235 180.355 74.5047 180.272 74.2217 179.993C73.2708 179.05 72.5727 177.967 72.1199 176.744C71.5237 175.329 71.301 173.691 71.4482 171.831C73.3085 171.235 75.6178 170.378 78.3724 169.261C81.127 168.069 83.7345 166.843 86.191 165.575C83.7345 160.809 82.5043 155.3 82.5043 149.043C82.5043 144.428 83.3609 140.368 85.074 136.87C86.7872 133.297 89.1682 130.504 92.2209 128.493C95.2736 126.41 98.7376 125.365 102.609 125.365C105.884 125.365 108.79 126.146 111.322 127.712C113.854 129.203 115.827 131.286 117.243 133.968C118.658 136.648 119.363 139.738 119.363 143.24C119.065 152.175 112.737 160.624 100.375 168.593C102.545 170.435 105.466 171.461 109.145 171.676C114.333 171.408 118.944 169.895 122.978 167.141C127.521 164.088 131.095 159.881 133.698 154.519C136.306 149.156 137.608 143.013 137.608 136.089V125.369H129.344C128.823 124.176 128.563 122.69 128.563 120.901C128.563 119.112 128.823 117.626 129.344 116.433H137.608V96.6643C139.023 96.1436 140.736 95.8832 142.743 95.8832C144.532 95.8832 146.241 96.1436 147.883 96.6643V116.433H164.524C165.12 117.626 165.418 119.112 165.418 120.901C165.418 122.69 165.12 124.176 164.524 125.369H147.883V148.489C147.883 155.934 149 161.669 151.234 165.688C153.184 169.024 155.803 170.952 159.082 171.465C160.207 171.257 161.384 170.82 162.61 170.156C164.399 169.19 166.074 167.699 167.637 165.688C169.497 163.156 170.837 160.254 171.659 156.975C172.553 153.7 173.112 150.387 173.335 147.036V126.931C174.006 126.708 174.787 126.52 175.682 126.373C176.576 126.225 177.504 126.15 178.474 126.15C180.187 126.15 181.862 126.41 183.5 126.931V159.096C183.5 163.043 184.096 166.133 185.289 168.367C186.289 170.073 187.798 171.103 189.817 171.461C192.455 171.031 194.99 169.627 197.428 167.25C200.481 164.273 203.869 159.322 207.59 152.394V96.5775L207.605 96.5851ZM217.544 135.648V92.5362C217.544 83.3781 220.261 78.7971 225.698 78.7971C228.306 78.7971 230.276 79.9141 231.619 82.1479C233.034 84.3063 233.74 87.4722 233.74 91.6419C233.74 95.8115 233.072 100.128 231.728 105.045C230.464 109.886 228.6 114.909 226.144 120.124C223.763 125.335 220.895 130.512 217.544 135.648ZM225.363 139.447C228.34 135.949 231.804 134.199 235.751 134.199C238.136 134.199 240.03 134.904 241.449 136.319C242.939 137.659 243.679 139.447 243.679 141.681C243.679 143.915 242.788 145.926 241 147.711C239.287 149.5 236.902 150.915 233.849 151.956C230.796 152.998 227.336 153.519 223.461 153.519C221.823 153.519 220.37 153.443 219.106 153.296C220.37 147.564 222.457 142.945 225.359 139.447H225.363ZM94.8057 161.337C93.0926 157.839 92.236 153.443 92.236 148.157C92.236 144.36 93.168 141.157 95.0283 138.553C96.9641 135.946 99.3829 134.644 102.288 134.644C104.598 134.644 106.383 135.425 107.65 136.991C108.99 138.481 109.662 140.564 109.662 143.244C109.515 146.447 108.284 149.424 105.975 152.179C103.666 154.858 99.9451 157.911 94.8057 161.337ZM87.5456 107.728C88.3645 111.154 90.2625 113.796 93.2397 115.656C96.1453 113.867 98.8621 111.86 101.394 109.626C104.002 107.317 106.307 105.045 108.318 102.811C110.401 100.577 111.967 98.6416 113.009 97.0039C112.337 95.5134 111.333 94.2493 109.994 93.2079C108.73 92.0909 107.239 91.3098 105.526 90.8608C104.409 92.423 102.885 94.2116 100.945 96.2228C99.0093 98.2341 96.8509 100.245 94.4661 102.253C92.1568 104.264 89.8512 106.087 87.5419 107.724L87.5456 107.728ZM178.598 110.852C176.512 110.852 174.727 110.109 173.236 108.619C171.746 107.128 171.003 105.343 171.003 103.257C171.003 101.023 171.708 99.2001 173.123 97.785C174.614 96.37 176.436 95.6644 178.595 95.6644C180.753 95.6644 182.651 96.37 184.066 97.785C185.481 99.2001 186.187 101.023 186.187 103.257C186.187 105.49 185.443 107.241 183.953 108.728C182.538 110.143 180.753 110.849 178.591 110.849L178.598 110.852Z" fill="white"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M145.644 50.3156L151.572 42.8744C151.7 42.7122 151.772 42.5122 151.772 42.3046V41.1122C151.527 41.0254 151.3 40.9424 151.093 40.867C149.81 40.384 148.417 41.0368 147.991 42.3386L145.742 49.2402C145.625 49.5987 145.595 49.9685 145.644 50.3194V50.3156ZM143.097 53.5117C141.972 51.9495 141.686 49.8704 142.263 48.1044L144.512 41.2028C145.531 38.0784 148.749 36.4558 151.772 37.2482V34.554C151.772 34.0484 151.361 33.6371 150.855 33.6371H110.253C109.747 33.6371 109.336 34.0484 109.336 34.554V41.8971C109.336 42.4028 109.747 42.8141 110.253 42.8141H138.946V42.8405L108.891 80.6766C108.762 80.8389 108.691 81.0389 108.691 81.2464V88.997C108.691 89.5027 109.102 89.914 109.608 89.914H150.961C151.466 89.914 151.878 89.5027 151.878 88.997V81.654C151.878 81.1483 151.466 80.737 150.961 80.737H121.517V80.6049L143.097 53.5155V53.5117ZM18.7397 34.4295C22.098 32.8975 25.9205 32.1353 30.192 32.1353C35.3239 32.1353 39.5954 33.1465 42.9764 35.2031C46.4027 37.1728 48.9384 39.7727 50.5534 43.0065C52.176 46.112 52.9458 49.4553 52.8665 53.0325C52.8552 53.4853 52.5156 53.8551 52.0741 53.9117L43.9613 54.972C43.4103 55.0437 42.9311 54.6136 42.9198 54.074C42.8594 51.3609 42.3009 49.1496 41.2746 47.4176V47.4101C40.1727 45.4819 38.6671 44.048 36.7465 43.0857H36.7389L36.7314 43.0782C34.8786 42.0481 32.7051 41.5273 30.1958 41.5273C28.3242 41.5273 26.445 41.8745 24.5621 42.5726H24.5583H24.5545C22.7734 43.1876 21.1169 44.2895 19.5849 45.8894V45.8969C18.0718 47.4101 16.8492 49.4553 15.9398 52.0552C15.0341 54.5645 14.5738 57.7266 14.5738 61.5567C14.5738 66.5187 15.3172 70.5223 16.7812 73.5826C18.3208 76.59 20.3019 78.7673 22.7093 80.1446C25.2111 81.5332 27.9581 82.2313 30.9618 82.2313C34.1881 82.2313 36.7729 81.5672 38.7539 80.2691C40.7538 78.888 42.1953 77.0994 43.0896 74.8995V74.892C44.0028 72.7411 44.4556 70.4695 44.4556 68.0734C44.4556 67.5413 44.9046 67.1036 45.4518 67.1451L53.7571 67.8206C54.225 67.8583 54.591 68.2432 54.5948 68.7224C54.6212 71.8996 54.1457 74.858 53.1684 77.5824C52.2175 80.3634 50.7157 82.8162 48.6667 84.9368V84.9444C46.6102 87.0009 44.048 88.5706 40.9878 89.6649C37.9955 90.7592 34.5428 91.3026 30.641 91.3026C26.3016 91.3026 22.4489 90.6158 19.0944 89.231H19.0906H19.0868C15.7398 87.7745 12.8946 85.733 10.5589 83.1067V83.103C8.29858 80.4766 6.58921 77.3824 5.427 73.8279V73.8203C4.34025 70.2658 3.79688 66.3225 3.79688 61.9906C3.79688 57.6587 4.33648 53.8249 5.427 50.2703V50.2666C6.58544 46.6403 8.25707 43.4782 10.4419 40.784C12.7059 38.0105 15.4794 35.8898 18.7623 34.4333L18.7397 34.4295ZM69.1979 35.52C73.277 33.2635 77.824 32.139 82.8313 32.139C87.8387 32.139 92.4913 33.2635 96.5704 35.5238C100.661 37.7878 103.868 41.1462 106.193 45.58C108.6 49.9572 109.789 55.4362 109.789 61.9982C109.789 68.5602 108.634 74.0392 106.302 78.4126C103.974 82.7784 100.763 86.0311 96.6685 88.1518C92.6611 90.2649 88.1519 91.3139 83.1521 91.3139C78.1523 91.3139 73.3563 90.2272 69.2055 88.0424C65.1151 85.85 61.8699 82.5671 59.47 78.205V78.1975C57.1381 73.7524 55.9834 68.2734 55.9834 61.7831C55.9834 55.2928 57.172 49.7383 59.5795 45.3611C61.9794 40.999 65.183 37.7162 69.2017 35.5238L69.1979 35.52ZM82.7219 41.4217C79.4428 41.4217 76.6391 42.2594 74.2958 43.9121L74.2921 43.9159C71.945 45.5045 70.0998 47.8252 68.7715 50.9043C67.515 53.9117 66.8773 57.4965 66.8773 61.6699C66.8773 68.1111 68.3301 73.1524 71.179 76.8353C74.0883 80.5068 78.0617 82.3445 83.1559 82.3445C86.4425 82.3445 89.2462 81.5785 91.5932 80.0616C93.9441 78.473 95.7478 76.2202 97.0043 73.2883C98.2609 70.3563 98.8986 66.7376 98.8986 62.417C98.8986 58.0964 98.2269 54.3004 96.8987 51.225C95.5667 48.0742 93.6875 45.6819 91.2687 44.0216H91.2612L91.2536 44.014C88.9103 42.2933 86.0765 41.4217 82.7295 41.4217H82.7219Z" fill="white"/>
                  <path d="M169.92 30.1879C169.92 35.6443 174.342 40.0668 179.799 40.0668C185.255 40.0668 189.678 35.6443 189.678 30.1879C189.678 24.7315 185.255 20.3091 179.799 20.3091C174.342 20.3091 169.92 24.7315 169.92 30.1879Z" fill="#5E985E"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M214.072 14.49C213.857 14.6221 213.574 14.558 213.442 14.3429L213 13.6335C212.868 13.4184 212.933 13.1354 213.148 13.0033L220.694 8.32048C221.449 7.85257 222.26 7.71673 223.121 7.9205C223.981 8.12049 224.645 8.59971 225.117 9.35817L225.404 9.81853C225.536 10.0336 225.472 10.3166 225.257 10.4487L224.547 10.8902C224.332 11.0223 224.049 10.9581 223.917 10.743L223.63 10.2827C223.426 9.9506 223.121 9.73929 222.721 9.64495C222.317 9.55062 221.951 9.60722 221.623 9.81098L214.076 14.4938L214.072 14.49ZM210.555 8.82235C210.34 8.95442 210.057 8.89027 209.925 8.67518L209.484 7.96578C209.352 7.75069 209.416 7.46768 209.631 7.33561L210.091 7.04883C210.423 6.84507 210.631 6.55074 210.721 6.16585C210.812 5.78474 210.751 5.42626 210.548 5.0942L210.219 4.56214C210.087 4.34706 210.152 4.06405 210.367 3.93198L211.076 3.49049C211.291 3.35842 211.574 3.42257 211.706 3.63765L212.038 4.16971C212.506 4.92439 212.642 5.72436 212.446 6.56583C212.25 7.40731 211.77 8.06389 211.016 8.53179L210.555 8.81857V8.82235ZM212.314 11.6562C212.099 11.7883 211.816 11.7241 211.684 11.509L211.242 10.7996C211.11 10.5845 211.174 10.3015 211.389 10.1695L216.102 7.24505C216.434 7.04129 216.646 6.73564 216.74 6.33566C216.834 5.9319 216.778 5.56588 216.574 5.23759L215.408 3.35842C215.276 3.14333 215.34 2.86033 215.555 2.72826L216.264 2.28677C216.48 2.1547 216.763 2.21884 216.895 2.43393L218.061 4.3131C218.529 5.06778 218.664 5.87907 218.461 6.73941C218.261 7.59975 217.781 8.26765 217.023 8.73556L212.31 11.66L212.314 11.6562ZM215.831 17.3239C215.615 17.456 215.332 17.3918 215.2 17.1767L214.759 16.4673C214.627 16.2522 214.691 15.9692 214.906 15.8372L216.785 14.6712C217.54 14.2033 218.351 14.0674 219.212 14.2712C220.072 14.4712 220.736 14.9504 221.208 15.7089L222.374 17.588C222.506 17.8031 222.442 18.0861 222.226 18.2182L221.517 18.6597C221.302 18.7917 221.019 18.7276 220.887 18.5125L219.721 16.6333C219.517 16.3013 219.212 16.09 218.812 15.9956C218.408 15.9013 218.042 15.9579 217.713 16.1617L215.834 17.3277L215.831 17.3239ZM206.189 27.5461L204.156 24.4142C203.948 24.0972 204.039 23.6708 204.356 23.4632L205.174 22.9312C205.28 22.8633 205.401 22.8255 205.525 22.8218L214.921 22.4822C215.453 22.4633 215.763 21.8671 215.472 21.4218L204.676 4.81496C204.386 4.36593 203.718 4.40743 203.484 4.88666L199.363 13.3354C199.307 13.4486 199.224 13.5429 199.122 13.6108L193.065 17.5465C192.213 18.1012 191.677 18.8823 191.466 19.886C191.254 20.8898 191.424 21.818 191.979 22.6746L193.997 25.7801C194.552 26.6329 195.333 27.1688 196.337 27.3801C197.341 27.5914 198.269 27.4216 199.126 26.8669L200.103 26.2329C200.42 26.0254 200.846 26.116 201.054 26.4329L203.544 30.263C203.08 30.795 202.601 31.3573 202.114 31.927C200.19 34.1836 198.103 36.6363 195.952 38.2438C186.326 45.451 175.606 46.3755 165.161 44.2662C156.508 42.5191 153.112 41.4587 151.101 40.7003C149.818 40.2173 148.426 40.8701 147.999 42.1719L145.75 49.0735C145.35 50.3074 145.981 51.6621 147.245 51.9526C148.894 52.3338 150.52 52.4356 152.592 52.5677C155.901 52.779 160.35 53.0658 167.855 54.6657C169.897 55.0997 171.647 55.5374 173.161 55.9978C173.146 56.0845 173.138 56.1713 173.134 56.2581C172.696 64.1635 170.531 79.7289 161.644 89.4303C160.535 90.6416 160.723 92.5925 162.316 93C166.482 94.0566 171.538 93.2566 174.361 92.5925C174.87 92.4717 175.315 92.1849 175.628 91.7661C179.455 86.7286 184.715 76.9252 184.077 67.7558C184.398 68.9255 184.722 70.2085 185.081 71.6311C185.673 73.9819 186.356 76.695 187.273 79.8534C188.892 85.6267 192.333 95.8376 194.16 95.449L204.401 93.8943C206.314 93.6037 207.291 91.185 206.318 89.5171C203.095 84.0041 199.099 74.8724 197.401 69.2236C194.665 60.1221 194.363 55.6166 199.665 49.915C211.48 38.4928 213.499 36.3231 213.389 34.059C213.378 33.7987 213.291 33.5458 213.174 33.3119L210.404 27.7725C209.352 25.765 207.91 26.1009 206.197 27.5461H206.189Z" fill="#5E985E"/>
                </g>
              </g>
              <defs>
                <clipPath id="clip0_397_3428_mobile">
                  <rect width="260.072" height="186.29" fill="white"/>
                </clipPath>
              </defs>
            </svg>
          </SheetTitle>
        </SheetHeader>
        <nav className="mt-8 flex flex-col space-y-3">
          {items.map((item) => (
            <Link
              key={item.href}
              href={item.href}
              onClick={() => onOpenChange(false)}
              className={cn(
                'flex items-center rounded-none px-4 py-3 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground',
                pathname === item.href
                  ? 'bg-accent text-accent-foreground'
                  : 'text-muted-foreground'
              )}
            >
              {item.label}
            </Link>
          ))}
        </nav>
      </SheetContent>
    </Sheet>
  )
}
